{"ast":null,"code":"//import {firestore} from 'firebase';\nimport firebase from 'firebase';\nexport const signup = user => {\n  return async dispatch => {\n    const db = firebase.firestore();\n    await firebase.auth().createUserWithEmailAndPassword(user.email, user.password).then(data => {\n      console.log(data);\n      const currentUser = firebase.auth().currentUser;\n      const name = `${user.firstName} ${user.lastName}`;\n      currentUser.updateProfile({\n        displayName: name\n      }).then(() => {\n        // update successfully\n        //console.log(\"Update profile successfully\");\n        db.collection('users').add({\n          firstName: user.firstName,\n          lastName: user.lastName,\n          uid: data.user.uid,\n          createdAt: new Date()\n        }).then(() => {\n          //successful\n          const loggedInUser = {\n            firstName: user.firstName,\n            lastName: user.lastName,\n            uid: data.user.uid,\n            email: user.email\n          };\n          localStorage.setItem('user', JSON.stringify(logginI));\n        }).catch(error => {\n          console.log(error);\n        });\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n};","map":{"version":3,"sources":["E:/ReactProjects/web-messenger/src/actions/auth.actions.js"],"names":["firebase","signup","user","dispatch","db","firestore","auth","createUserWithEmailAndPassword","email","password","then","data","console","log","currentUser","name","firstName","lastName","updateProfile","displayName","collection","add","uid","createdAt","Date","loggedInUser","localStorage","setItem","JSON","stringify","logginI","catch","error"],"mappings":"AAAA;AACA,OAAOA,QAAP,MAAqB,UAArB;AAEA,OAAO,MAAMC,MAAM,GAAIC,IAAD,IAAQ;AAC1B,SAAO,MAAOC,QAAP,IAAkB;AACrB,UAAMC,EAAE,GAAGJ,QAAQ,CAACK,SAAT,EAAX;AACA,UAAML,QAAQ,CAACM,IAAT,GAAgBC,8BAAhB,CAA+CL,IAAI,CAACM,KAApD,EAA0DN,IAAI,CAACO,QAA/D,EACLC,IADK,CACAC,IAAI,IAAG;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACA,YAAMG,WAAW,GAAGd,QAAQ,CAACM,IAAT,GAAgBQ,WAApC;AACA,YAAMC,IAAI,GAAI,GAAEb,IAAI,CAACc,SAAU,IAAGd,IAAI,CAACe,QAAS,EAAhD;AACAH,MAAAA,WAAW,CAACI,aAAZ,CAA0B;AACtBC,QAAAA,WAAW,EAACJ;AADU,OAA1B,EAEGL,IAFH,CAEQ,MAAI;AACR;AACA;AACAN,QAAAA,EAAE,CAACgB,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2B;AACvBL,UAAAA,SAAS,EAACd,IAAI,CAACc,SADQ;AAEvBC,UAAAA,QAAQ,EAAEf,IAAI,CAACe,QAFQ;AAGvBK,UAAAA,GAAG,EAACX,IAAI,CAACT,IAAL,CAAUoB,GAHS;AAIvBC,UAAAA,SAAS,EAAG,IAAIC,IAAJ;AAJW,SAA3B,EAKGd,IALH,CAKQ,MAAI;AACR;AACA,gBAAMe,YAAY,GAAG;AACjBT,YAAAA,SAAS,EAACd,IAAI,CAACc,SADE;AAEjBC,YAAAA,QAAQ,EAAEf,IAAI,CAACe,QAFE;AAGjBK,YAAAA,GAAG,EAACX,IAAI,CAACT,IAAL,CAAUoB,GAHG;AAIjBd,YAAAA,KAAK,EAACN,IAAI,CAACM;AAJM,WAArB;AAMAkB,UAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA4BC,IAAI,CAACC,SAAL,CAAeC,OAAf,CAA5B;AAGH,SAhBD,EAgBGC,KAhBH,CAgBUC,KAAD,IAAS;AACdpB,UAAAA,OAAO,CAACC,GAAR,CAAYmB,KAAZ;AACH,SAlBD;AAmBH,OAxBD;AAyBH,KA9BK,EA+BLD,KA/BK,CA+BCC,KAAK,IAAG;AACXpB,MAAAA,OAAO,CAACC,GAAR,CAAYmB,KAAZ;AACH,KAjCK,CAAN;AAkCH,GApCD;AAqCH,CAtCM","sourcesContent":["//import {firestore} from 'firebase';\r\nimport firebase from 'firebase';\r\n\r\nexport const signup = (user)=>{\r\n    return async (dispatch)=>{\r\n        const db = firebase.firestore();\r\n        await firebase.auth().createUserWithEmailAndPassword(user.email,user.password)\r\n        .then(data =>{\r\n            console.log(data);\r\n            const currentUser = firebase.auth().currentUser;\r\n            const name = `${user.firstName} ${user.lastName}`;\r\n            currentUser.updateProfile({\r\n                displayName:name,\r\n            }).then(()=>{\r\n                // update successfully\r\n                //console.log(\"Update profile successfully\");\r\n                db.collection('users').add({\r\n                    firstName:user.firstName,\r\n                    lastName: user.lastName,\r\n                    uid:data.user.uid,\r\n                    createdAt : new Date()\r\n                }).then(()=>{\r\n                    //successful\r\n                    const loggedInUser = {\r\n                        firstName:user.firstName,\r\n                        lastName: user.lastName,\r\n                        uid:data.user.uid,\r\n                        email:user.email\r\n                    }\r\n                    localStorage.setItem('user',JSON.stringify(logginI\r\n                        ));\r\n\r\n                }).catch((error)=>{\r\n                    console.log(error);\r\n                })\r\n            })\r\n        })\r\n        .catch(error =>{\r\n            console.log(error);\r\n        })\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}